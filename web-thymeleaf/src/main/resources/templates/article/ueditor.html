<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>创建富文本文章 - 梦神十夜的小站</title>
</head>
<link rel="stylesheet" type="text/css" media="all" href="/css/style.css"/>

<script language="javascript" charset="utf-8" type="text/javascript" src="/ueditor.config.js"></script>
<script language="javascript" charset="utf-8" type="text/javascript" src="/ueditor.all.js"></script>
<link rel="stylesheet" type="text/css" media="all" href="/themes/default/css/ueditor.min.css" />

<body>
<div id="wrap" class="container clearfix">
	<div th:include="common/header::pagination"></div>
    
    <div id="main" class="container">
    	<form method="post" action="/article/addUeditor" id="form" onsubmit="return check()">
	    	<div class="content alpha">
	    		<div class="entry clearfix">
					<input type="hidden" name="id" id="id_ue" th:value="${info.id}"/>
					<table class="formtable_noborder" style="">
						<thead>
						</thead>
						<tbody>
							<tr>
								<th width="10%"><span th:text="标题"></span></th>
								<td width="90%">
									<input class="inputclass textarea_count" style="width: 700px;" type="text" name="title" id="title_ue" maxlength="100" placeholder="最多可输入100个字" th:value="${info.title}"/>
									<span class="t_h"><i>0</i>/100</span>
								</td>
							</tr>
							<tr>
								<th width="10%"><span th:text="简介"></span></th>
								<td width="90%">
									<textarea class="textarea_count" name="shortContext" id="shortContext_ue" style="width:700px;height:160px;" maxlength="300" placeholder="最多可输入300个字" th:text="${info.shortContext}"></textarea>
									<span class="t_h"><i>0</i>/300</span>
								</td>
							</tr>
							<tr>
								<th width="10%"><span th:text="内容"></span></th>
								<td width="90%">
									<textarea class="textarea_count" name="context" id="context_ue" style="width:700px;height:430px;" maxlength="3000" placeholder="最多可输入3000个字" th:text="${info.context}"></textarea>
								</td>
							</tr>
							<tr>
								<th width="15%"><span th:text="是否发布外网"></span></th>
								<td width="85%">
									<input type="checkbox" name="contextType" id="contextType" value="02" th:checked="${info.contextType == '02'}"/>是
								</td>
							</tr>
							<tr>
								<th width="15%"><span th:text="发送EMAIL"></span></th>
								<td width="85%">
									<input type="checkbox" name="isSendMail" id="isSendMail" value="1"/>同步发送到E-MAIL
								</td>
							</tr>
						</tbody>
					</table>
					
					<div class="page_div">
						<span class="page_span">
							<!-- <input type="button" class="btn_no_public" th:onclick= "'javascript:cancle()'" value=""/>
							<input type="button" class="btn_yes_public" th:onclick= "'javascript:add('+${session.user_session.id}+')'" value=""/> -->
							<input type="submit" class="btn_public btn_public_yes_text" th:onclick= "'javascript:submitForm('+${session.user_session.id}+')'" />
						</span>
					</div>
							
				</div>
	    	</div>
    	</form>
    </div>
    
    <!-- 引入备案 -->
	<div th:include="common/footer::common-beian"></div>
</div>

<!-- 引入底部 -->
<div th:include="common/footer::common-pagination"></div>

<script type="text/javascript">
	var editor;
	$(document).ready(function() {
		editor = new baidu.editor.ui.Editor();
		editor.render("context_ue");
		$("form").submit(function(msgjsonobj){
			$.showAlertMessage("success","保存成功", msgjsonobj.status + "-" + msgjsonobj.desc + " 保存成功!" , function(){
				
			});	
		});
	});
	function check(){
		if ($("#title_ue").val() == null || $("#title_ue").val() == "") {
			alert("请输入标题!");
			return false;
		}
		if ($("#shortContext_ue").val() == null || $("#shortContext_ue").val() == "") {
			alert("请输入简介!");
			return false;
		}
		if (editor.getContent() == null || editor.getContent() == "") {
			alert("请输入内容!");
			return false;
		}
		return true;
	}
</script>
	
	
</body>
</html>