<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>漏斗图 - 梦神十夜的小站</title>
</head>
<link rel="stylesheet" type="text/css" media="all" href="/css/style.css"/>
<script type="text/javascript" src="/echarts/echarts.min.js" ></script>
<script type="text/javascript" src="/echarts/macarons.js" ></script>
<body>
<div id="wrap" class="container clearfix">
	<div th:include="common/header::pagination"></div>
	
	<div class="header_wrap">
		<div id="chart1" class="clearfix" style="width: 100%; height: 320px; margin-top:20px;"></div>
	</div>
	<div class="header_wrap">
		<div id="chart2" class="clearfix" style="width: 100%; height: 320px; margin-top:20px;"></div>
	</div>
	<div class="header_wrap">
		<div id="chart3" class="clearfix" style="width: 100%; height: 320px; margin-top:20px;"></div>
	</div>
</div>

<script type="text/javascript">
$(document).ready(function() {
	chart1();
	chart2();
	chart3();
});
function chart1(){
	var chart = echarts.init(document.getElementById('chart1'),'macarons'); 
	option = {
		    title: {
		        text: '漏斗图',
		        subtext: '纯属虚构'
		    },
		    tooltip: {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c}%"
		    },
		    toolbox: {
		        feature: {
		            dataView: {readOnly: false},
		            restore: {},
		            saveAsImage: {}
		        }
		    },
		    legend: {
		        data: ['展现','点击','访问','咨询','订单']
		    },
		    calculable: true,
		    series: [
		        {
		            name:'漏斗图',
		            type:'funnel',
		            left: '10%',
		            top: 60,
		            //x2: 80,
		            bottom: 60,
		            width: '80%',
		            // height: {totalHeight} - y - y2,
		            min: 0,
		            max: 100,
		            minSize: '0%',
		            maxSize: '100%',
		            sort: 'descending',
		            gap: 2,
		            label: {
		                show: true,
		                position: 'inside'
		            },
		            labelLine: {
		                length: 10,
		                lineStyle: {
		                    width: 1,
		                    type: 'solid'
		                }
		            },
		            itemStyle: {
		                borderColor: '#fff',
		                borderWidth: 1
		            },
		            emphasis: {
		                label: {
		                    fontSize: 20
		                }
		            },
		            data: [
		                {value: 60, name: '访问'},
		                {value: 40, name: '咨询'},
		                {value: 20, name: '订单'},
		                {value: 80, name: '点击'},
		                {value: 100, name: '展现'}
		            ]
		        }
		    ]
		};
	chart.setOption(option); 
}
function chart2(){
	var chart = echarts.init(document.getElementById('chart2'),'macarons'); 
	option = {
		    title: {
		        text: '漏斗图(对比)',
		        subtext: '纯属虚构',
		        left: 'left',
		        top: 'bottom'
		    },
		    tooltip: {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c}%"
		    },
		    toolbox: {
		        show: true,
		        orient: 'vertical',
		        top: 'center',
		        feature: {
		            dataView: {readOnly: false},
		            restore: {},
		            saveAsImage: {}
		        }
		    },
		    legend: {
		        orient: 'vertical',
		        left: 'left',
		        data: ['产品A','产品B','产品C','产品D','产品E']
		    },
		    calculable: true,
		    series: [
		        {
		            name: '漏斗图',
		            type: 'funnel',
		            width: '40%',
		            height: '45%',
		            left: '5%',
		            top: '50%',
		            funnelAlign: 'right',

		            center: ['25%', '25%'],  // for pie

		            data:[
		                {value:60, name:'产品C'},
		                {value:30, name:'产品D'},
		                {value:10, name:'产品E'},
		                {value:80, name:'产品B'},
		                {value:100, name:'产品A'}
		            ]
		        },
		        {
		            name: '金字塔',
		            type:'funnel',
		            width: '40%',
		            height: '45%',
		            left: '5%',
		            top: '5%',
		            sort: 'ascending',
		            funnelAlign: 'right',

		            center: ['25%', '75%'],  // for pie

		            data:[
		                {value:60, name:'产品C'},
		                {value:30, name:'产品D'},
		                {value:10, name:'产品E'},
		                {value:80, name:'产品B'},
		                {value:100, name:'产品A'}
		            ]
		        },
		        {
		            name:'漏斗图',
		            type:'funnel',
		            width: '40%',
		            height: '45%',
		            left: '55%',
		            top: '5%',
		            funnelAlign: 'left',

		            center: ['75%', '25%'],  // for pie

		            data: [
		                {value: 60, name: '产品C'},
		                {value: 30, name: '产品D'},
		                {value: 10, name: '产品E'},
		                {value: 80, name: '产品B'},
		                {value: 100, name: '产品A'}
		            ]
		        },
		        {
		            name: '金字塔',
		            type:'funnel',
		            width: '40%',
		            height: '45%',
		            left: '55%',
		            top: '50%',
		            sort: 'ascending',
		            funnelAlign: 'left',

		            center: ['75%', '75%'],  // for pie

		            data: [
		                {value: 60, name: '产品C'},
		                {value: 30, name: '产品D'},
		                {value: 10, name: '产品E'},
		                {value: 80, name: '产品B'},
		                {value: 100, name: '产品A'}
		            ]
		        }
		    ]
		};

	chart.setOption(option); 
}
function chart3(){
	var chart = echarts.init(document.getElementById('chart3'),'macarons'); 
	option = {
		    title: {
		        text: '漏斗图',
		        subtext: '纯属虚构'
		    },
		    tooltip: {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c}%"
		    },
		    toolbox: {
		        feature: {
		            dataView: {readOnly: false},
		            restore: {},
		            saveAsImage: {}
		        }
		    },
		    legend: {
		        data: ['展现','点击','访问','咨询','订单']
		    },
		    series: [
		        {
		            name: '预期',
		            type: 'funnel',
		            left: '10%',
		            width: '80%',
		            label: {
		                normal: {
		                    formatter: '{b}预期'
		                },
		                emphasis: {
		                    position:'inside',
		                    formatter: '{b}预期: {c}%'
		                }
		            },
		            labelLine: {
		                normal: {
		                    show: false
		                }
		            },
		            itemStyle: {
		                normal: {
		                    opacity: 0.7
		                }
		            },
		            data: [
		                {value: 60, name: '访问'},
		                {value: 40, name: '咨询'},
		                {value: 20, name: '订单'},
		                {value: 80, name: '点击'},
		                {value: 100, name: '展现'}
		            ]
		        },
		        {
		            name: '实际',
		            type: 'funnel',
		            left: '10%',
		            width: '80%',
		            maxSize: '80%',
		            label: {
		                normal: {
		                    position: 'inside',
		                    formatter: '{c}%',
		                    textStyle: {
		                        color: '#fff'
		                    }
		                },
		                emphasis: {
		                    position:'inside',
		                    formatter: '{b}实际: {c}%'
		                }
		            },
		            itemStyle: {
		                normal: {
		                    opacity: 0.5,
		                    borderColor: '#fff',
		                    borderWidth: 2
		                }
		            },
		            data: [
		                {value: 30, name: '访问'},
		                {value: 10, name: '咨询'},
		                {value: 5, name: '订单'},
		                {value: 50, name: '点击'},
		                {value: 80, name: '展现'}
		            ]
		        }
		    ]
		};

	chart.setOption(option); 
}
</script>
</body>
</html>